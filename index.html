<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Grammar Spy™ | Mission-Based Grammar Training</title>
  <meta name="description" content="Start one focused grammar mission and continue when ready." />
  <meta name="theme-color" content="#16223A" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta property="og:title" content="Grammar Spy™ | Mission-Based Grammar Training" />
  <meta property="og:description" content="Mission-based grammar training for real classrooms. One focused mission at a time." />
  <link rel="icon" type="image/svg+xml" href="assets/brand/favicon.svg" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="apple-touch-icon" href="assets/brand/icon-192.png" />
  <style>
    /* Grammar Spy palette (locked): Navy + Teal primary, Gold accent only. No yellow/other accent. */
    :root{--navy:#0b1020;--mid:#16223a;--teal:#1f5f63;--light:#f2f4f7;--cool:#d9dee6;--slate:#4a5568;--gold:#c9a227;--shadow:0 8px 16px rgba(11,16,32,.08)}
    *{box-sizing:border-box}
    body{margin:0;background:#ffffff;color:var(--mid);font-family:Inter,Montserrat,Poppins,Outfit,"Segoe UI",sans-serif;padding:0 0 52px}
    .wrap{max-width:100%;margin:0;display:grid;gap:48px;padding:0 40px}
    .section{padding:8px 0}
    .section-flat{padding:8px 4px}
    .section-band-dark{background:linear-gradient(170deg,#2a4a5a,#1f5f63);padding:40px;color:#f0f7f8;margin:0 -40px;border-radius:0}
    .section-band-dark h2,.section-band-dark p,.section-band-dark li{color:#f0f7f8}
    .section-band-dark .link-action{color:#c9e8eb}
    .k{margin:0 0 10px;font:700 12px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:#1f5f63}
    h1,h2{margin:0;color:var(--navy);line-height:1.05}
    h1{font-size:48px;letter-spacing:.005em}
    h2{font-size:28px;letter-spacing:.005em}
    p{margin:10px 0 0;color:var(--slate);line-height:1.6;font-weight:440}
    .subcopy{font-size:15px;color:#5c6677;max-width:62ch}
    .btn-primary{display:inline-flex;align-items:center;justify-content:center;min-height:36px;padding:0 14px;border:1px solid #194f53;background:var(--teal);color:#fff;border-radius:8px;text-decoration:none;text-transform:uppercase;letter-spacing:.08em;font:700 11px Inter,Arial,sans-serif;transition:filter .2s ease, transform .15s ease}
    .btn-primary:hover{filter:brightness(1.08);transform:translateY(-1px)}
    .btn-primary:active{transform:translateY(0)}
    .link-action{display:inline-block;margin-top:12px;color:#1f5f63;text-decoration:none;font:700 12px Inter,Arial,sans-serif;letter-spacing:.04em}
    .link-action:hover{text-decoration:underline}
    .segmented{display:inline-flex;gap:6px;padding:3px;border:1px solid var(--cool);border-radius:8px;background:#f8fafc;margin-top:12px}
    .seg{border:0;background:transparent;color:#4a5568;border-radius:6px;padding:7px 11px;font:700 11px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;cursor:pointer}
    .seg.active{background:#ffffff;color:#16223a;box-shadow:0 1px 3px rgba(11,16,32,.08)}
    .passive{margin-top:10px;font:700 11px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:#7a8698}
    .mission-label{margin:0 0 8px;font:700 11px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:#1f5f63}
    .mission-label::before{content:"";display:block;width:16px;height:2px;border-radius:2px;background:var(--gold);margin-bottom:8px}
    .hero-accent{width:36px;height:2px;background:var(--gold);border-radius:2px;margin:14px 0 0}
    .hero-shell{margin:0 -40px;padding:0 40px;background:linear-gradient(180deg,#f8fbfd 0%,#ffffff 100%)}
    .hero{
      position:relative;
      overflow:hidden;
      background:transparent;
      color:var(--mid);
      border-radius:0;
      padding:48px 0 40px;
      max-width:100%;
      margin:0;
      padding:0 40px;
    }
    .hero h1{color:var(--navy)}
    .hero .k{color:var(--teal)}
    .hero .subcopy{color:var(--slate)}
    .hero .passive{color:#7a8698}
    .hero-who{max-width:42ch}
    .hero-cta-copy{margin:0 0 10px;font-size:14px;color:var(--slate);line-height:1.5}
    .hero-buttons{margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .btn-hero-primary{min-height:44px;padding:0 18px}
    .hero::before{content:"";position:absolute;right:-60px;top:-48px;width:420px;height:420px;background:url('assets/illustrations/bg-shield-watermark.svg') center/contain no-repeat;opacity:.09;pointer-events:none}
    .hero::after{
      content:"";
      position:absolute;inset:0;
      background:
        radial-gradient(circle at 78% 28%, rgba(201,162,39,.65) 0 2px, transparent 3px),
        radial-gradient(circle at 82% 52%, rgba(201,162,39,.65) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 64%, rgba(201,162,39,.65) 0 2px, transparent 3px);
      background-size:100% 100%,100% 100%,100% 100%;
      background-position:0 0,0 0,0 0;
      opacity:.12;
      pointer-events:none;
    }
    .hero-grid{
      position:relative;
      z-index:1;
      max-width:100%;
      margin:0;
      padding:0 40px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:48px;
      align-items:center;
    }
    .mission-panel{
      margin-top:20px;
      padding:20px 20px;
      border:2px solid var(--teal);
      border-radius:14px;
      background:linear-gradient(165deg, rgba(31,95,99,.08), rgba(11,16,32,.06));
      box-shadow:0 12px 28px rgba(11,16,32,.12), 0 0 0 1px rgba(31,95,99,.15);
    }
    .mission-panel .mission-label{
      font-size:13px;
      letter-spacing:.12em;
      color:var(--navy);
      margin-top:0;
      margin-bottom:10px;
    }
    .mission-panel .mission-label::before{
      width:24px;
      height:3px;
      background:var(--gold);
      margin-bottom:10px;
    }
    .mission-panel .start-here{
      font-weight:800;
      font-size:14px;
      letter-spacing:.14em;
      text-shadow:0 0 20px rgba(31,95,99,.15), 0 0 40px rgba(201,162,39,.08);
      animation:start-here-glow 2.8s ease-in-out infinite;
      position:relative;
      display:inline-block;
    }
    .mission-panel .start-here::before{
      animation:start-here-bar 2.2s ease-in-out infinite;
      transform-origin:left center;
    }
    .mission-panel .start-here::after{
      content:"";
      position:absolute;
      left:0;
      bottom:-4px;
      width:100%;
      height:2px;
      background:linear-gradient(90deg, transparent, var(--gold), var(--teal), transparent);
      background-size:200% 100%;
      border-radius:2px;
      animation:start-here-shimmer 3s ease-in-out infinite;
      opacity:.88;
    }
    @keyframes start-here-glow{
      0%,100%{text-shadow:0 0 18px rgba(31,95,99,.1), 0 0 36px rgba(201,162,39,.05); transform:scale(1)}
      50%{text-shadow:0 0 26px rgba(31,95,99,.22), 0 0 48px rgba(201,162,39,.12); transform:scale(1.02)}
    }
    @keyframes start-here-bar{
      0%,100%{opacity:.8; transform:scaleX(1)}
      50%{opacity:1; transform:scaleX(1.08)}
    }
    @keyframes start-here-shimmer{
      0%,100%{background-position:100% 0}
      50%{background-position:0 0}
    }
    @media (prefers-reduced-motion: reduce){
      .mission-panel .start-here,
      .mission-panel .start-here::before,
      .mission-panel .start-here::after{ animation:none; }
      .mission-panel .start-here::after{ opacity:.9; background-position:0 0; }
    }
    .hero-visual{
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .hero-visual img{
      width:100%;
      max-width:520px;
      border-radius:18px;
      box-shadow:0 16px 48px rgba(11,16,32,.12);
      object-fit:cover;
    }
    .flow{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px;margin-top:18px}
    .step{padding:12px 0;border-radius:0;background:transparent;border-bottom:1px solid #e4e8ef}
    .step b{display:block;font-size:13px;color:#0b1020}
    .step span{display:block;margin-top:4px;font-size:13px;color:#4a5568;line-height:1.55}
    .case{padding:16px 0;border-radius:0;background:transparent;border-bottom:1px solid #e4e8ef}
    .proof-list{margin:14px 0 0;padding-left:18px;color:#4a5568;display:grid;gap:6px;line-height:1.6}
    .proof-note{margin-top:10px;font-size:13px;color:#5c6677}
    .testimonial-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-top:14px}
    .quote-card{border:1px solid var(--cool);border-radius:12px;background:#fff;padding:14px}
    .quote-card p{margin:0;color:#324357;font-size:14px}
    .quote-card .quote-by{display:block;margin-top:10px;font:700 11px Inter,Arial,sans-serif;letter-spacing:.06em;text-transform:uppercase;color:#6c7688}
    .faq-list{display:grid;gap:10px;margin-top:14px}
    .microcopy-hints{margin-top:12px;padding-left:18px;display:grid;gap:6px;font-size:13px;color:#4a5568;line-height:1.55}
    ul{margin:14px 0 0;padding-left:18px;color:#4a5568;display:grid;gap:8px;line-height:1.6}
    details{margin-top:14px;border:1px solid var(--cool);border-radius:8px;background:#fff;padding:10px}
    summary{cursor:pointer;font:700 12px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:#16223a}
    .icon-sm{width:22px;height:22px;vertical-align:middle;margin-right:6px;object-fit:contain}
    .step .icon-sm,.case .icon-sm{margin-right:8px}
    .inside-mission{display:grid;grid-template-columns:repeat(2,1fr);gap:24px;margin-top:24px;align-items:start}
    .inside-mission .screenshot-card{border:1px solid var(--cool);border-radius:12px;overflow:hidden;background:#fff;box-shadow:0 8px 24px rgba(11,16,32,.08)}
    .inside-mission .screenshot-card img{width:100%;height:auto;display:block;object-fit:cover}
    .inside-mission .screenshot-card figcaption{margin:0;padding:12px 14px;font:700 12px Inter,Arial,sans-serif;letter-spacing:.06em;text-transform:uppercase;color:var(--navy);border-top:1px solid #e4e8ef}
    @media (max-width:1000px){.inside-mission{grid-template-columns:1fr}}
    @media (max-width:620px){.inside-mission{grid-template-columns:1fr}.inside-mission .screenshot-card img{max-height:280px;object-fit:contain}}
    @media (max-width:620px){.inside-mission{gap:16px}}
    @media (max-width:920px){h1{font-size:38px}h2{font-size:24px}.section-band-dark{padding:24px 14px}.hero{padding:34px 0}.hero-grid{grid-template-columns:1fr;gap:20px}.hero-visual{justify-content:flex-start}.flow{grid-template-columns:1fr 1fr}.testimonial-grid{grid-template-columns:1fr}}
    @media (max-width:620px){h1{font-size:32px}.hero{padding:24px 0}.hero-buttons{flex-direction:column;align-items:flex-start;gap:12px}.btn-primary,.seg{min-height:44px;padding:10px 16px}.flow{grid-template-columns:1fr}}

    /* Welcome overlay */
    .gs-welcome-overlay{
      position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;
      background:rgba(11,16,32,.75);backdrop-filter:blur(8px);
      opacity:1;visibility:visible;transition:opacity .35s ease, visibility .35s ease;
    }
    .gs-welcome-overlay.gs-welcome-dismissed{opacity:0;visibility:hidden;pointer-events:none}
    .gs-welcome-card{
      background:linear-gradient(165deg,#fff 0%,#f8fafc 100%);border:1px solid var(--cool);border-radius:20px;
      box-shadow:0 24px 56px rgba(11,16,32,.2), 0 0 0 1px rgba(31,95,99,.2);
      max-width:420px;width:100%;padding:32px 28px;text-align:center;
      animation:gs-welcome-in .4s ease-out;
    }
    @keyframes gs-welcome-in{
      from{opacity:0;transform:scale(.96) translateY(10px)}
      to{opacity:1;transform:scale(1) translateY(0)}
    }
    .gs-welcome-card .k{margin:0 0 8px}
    .gs-welcome-card h2{margin:0;font-size:26px;line-height:1.2;color:var(--navy)}
    .gs-welcome-card p{margin:12px 0 0;color:var(--slate);font-size:15px}
    .gs-welcome-actions{margin-top:24px;display:flex;flex-direction:column;gap:10px;align-items:stretch}
    .gs-welcome-actions .btn-primary{min-height:44px;justify-content:center}
    .gs-welcome-dismiss{background:transparent;border:1px solid var(--cool);color:var(--slate);border-radius:8px;padding:12px 16px;font:700 12px Inter,Arial,sans-serif;letter-spacing:.06em;text-transform:uppercase;cursor:pointer}
    .gs-welcome-dismiss:hover{background:rgba(11,16,32,.04);color:var(--navy)}
    .gs-welcome-email{margin-top:16px;padding-top:16px;border-top:1px solid var(--cool)}
    .gs-welcome-email label{display:block;font:700 11px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:var(--slate);margin-bottom:6px}
    .gs-welcome-email input[type=email]{width:100%;padding:10px 12px;border:1px solid var(--cool);border-radius:8px;font-size:14px;color:var(--navy)}
    .gs-welcome-email .gs-email-msg{margin-top:8px;font-size:13px;color:var(--teal);font-weight:600;display:none}
    .gs-welcome-email .gs-email-msg.show{display:block}
    /* Email capture strip (before login) */
    .email-capture{background:linear-gradient(165deg, rgba(31,95,99,.06), rgba(11,16,32,.04));border:1px solid rgba(31,95,99,.2);border-radius:14px;padding:24px 20px;max-width:560px;margin:0 auto}
    .email-capture h3{margin:0 0 6px;font-size:20px;color:var(--navy)}
    .email-capture p{margin:0 0 14px;font-size:14px;color:var(--slate)}
    .email-capture-form{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .email-capture-form input[type=email]{flex:1;min-width:200px;padding:10px 14px;border:1px solid var(--cool);border-radius:8px;font-size:14px;color:var(--navy)}
    .email-capture-form .btn-primary{margin:0}
    .email-capture .email-capture-thanks{display:none;font-size:14px;color:var(--teal);font-weight:600}
    .email-capture .email-capture-thanks.show{display:block}
    .email-capture-form.hide{display:none}
  </style>
</head>
<body>
  <div id="gsWelcomeOverlay" class="gs-welcome-overlay" aria-modal="true" role="dialog" aria-labelledby="gsWelcomeTitle" aria-describedby="gsWelcomeDesc">
    <div class="gs-welcome-backdrop" style="position:absolute;inset:0" aria-hidden="true"></div>
    <div class="gs-welcome-card">
      <p class="k">Grammar Spy™</p>
      <h2 id="gsWelcomeTitle">Start with Mission 01 Free</h2>
      <p id="gsWelcomeDesc">Run one focused Mission, review the sample report, then decide if it fits your classroom.</p>
      <div class="gs-welcome-email" id="gsWelcomeEmail">
        <label for="gsWelcomeEmailInput">School or work email</label>
        <input type="email" id="gsWelcomeEmailInput" placeholder="name@school.org" autocomplete="email">
        <button type="button" class="btn-primary" id="gsWelcomeEmailBtn" style="margin-top:8px;width:100%">Send me Mission 01</button>
        <p class="gs-email-msg" id="gsWelcomeEmailMsg">Check your inbox. Your Mission 01 link is on the way.</p>
      </div>
      <div class="gs-welcome-actions">
        <a href="auth.html?mode=create" class="btn-primary">Create free teacher account</a>
        <button type="button" class="gs-welcome-dismiss">Continue to site</button>
      </div>
    </div>
  </div>
  <script>
    (function(){
      var LEAD_KEY = 'gs_lead_emails';
      function saveLead(email){
        try {
          var raw = localStorage.getItem(LEAD_KEY);
          var list = raw ? JSON.parse(raw) : [];
          if (list.indexOf(email) === -1) list.push(email);
          localStorage.setItem(LEAD_KEY, JSON.stringify(list));
        } catch(e) {}
      }
      function initWelcome(){
        var overlay = document.getElementById('gsWelcomeOverlay');
        if (!overlay) return;
        if (sessionStorage.getItem('gs_welcome_dismissed')) { overlay.classList.add('gs-welcome-dismissed'); return; }
        function dismiss(){ try { sessionStorage.setItem('gs_welcome_dismissed', '1'); } catch(e) {} overlay.classList.add('gs-welcome-dismissed'); }
        overlay.querySelector('.gs-welcome-dismiss').addEventListener('click', dismiss);
        overlay.querySelector('.gs-welcome-backdrop').addEventListener('click', dismiss);
        var btn = document.getElementById('gsWelcomeEmailBtn');
        var input = document.getElementById('gsWelcomeEmailInput');
        var msg = document.getElementById('gsWelcomeEmailMsg');
        if (btn && input && msg) {
          btn.addEventListener('click', function(){
            var email = (input.value || '').trim();
            if (!email || email.indexOf('@') < 1) return;
            saveLead(email);
            msg.classList.add('show');
            input.style.display = 'none';
            btn.style.display = 'none';
          });
        }
      }
      initWelcome();
      window.GS_SAVE_LEAD = saveLead;
    })();
  </script>
  <script src="i18n.js"></script>
  <div data-include="header"></div>

  <section class="hero-shell" aria-label="Hero">
    <div class="hero section">
      <div class="hero-grid">
        <div>
          <p class="k">Grammar Spy™</p>
          <h1 id="heroHeadline">Structured grammar practice. Clear results. No classroom chaos.</h1>
          <div class="hero-accent" aria-hidden="true"></div>
          <p class="subcopy hero-who" id="heroSubcopy">Missions are short, focused grammar practice tasks you can run in minutes.</p>
          <div class="mission-panel">
            <p class="mission-label start-here">Choose your role</p>
            <p class="hero-cta-copy" id="heroCtaCopy">Teacher path: start with Mission 01 Free, review a sample report, then create your classroom. Student path: join with a class code and complete assigned Missions.</p>
            <div class="segmented" role="tablist" aria-label="Mode selection">
              <button id="modeTeacher" class="seg active" type="button" aria-selected="true">Teacher</button>
              <button id="modeStudent" class="seg" type="button" aria-selected="false">Student</button>
            </div>
            <p id="roleHelper" class="proof-note">Teacher: launch Mission 01, track results, create a classroom. Student: join with class code and start practice.</p>
            <div style="margin-top:14px;padding:12px 14px;background:rgba(31,95,99,.12);border:2px solid #1f5f63;border-radius:10px">
              <label for="indexPromoCode" style="display:block;font:700 11px Inter,Arial,sans-serif;letter-spacing:.08em;text-transform:uppercase;color:#1f5f63;margin-bottom:6px">Promo code (optional)</label>
              <input type="text" id="indexPromoCode" placeholder="CODE1234" maxlength="20" autocomplete="off" autocapitalize="characters" autocorrect="off" spellcheck="false" inputmode="text" style="width:100%;max-width:220px;border:2px solid #1f5f63;border-radius:8px;padding:10px 12px;font-size:14px" />
              <p style="margin:8px 0 0;font-size:12px;color:#39536b">Use letters and numbers only. Email addresses are not accepted.</p>
            </div>
            <div class="hero-buttons">
              <a id="continueBtn" class="btn-primary btn-hero-primary" href="auth.html?mode=create">Try Mission 01 Free</a>
              <a id="createClassBtn" class="btn-primary btn-hero-primary" href="teacher-home.html" style="background:#c9a227;border-color:#a88520">Create a Classroom</a>
              <a class="link-action" href="#sample-report">See a Sample Report</a>
              <a class="link-action" href="auth.html?mode=signin" id="signInLink">Sign In</a>
            </div>
            <div class="passive" id="heroPassive">Quick recall now. Spaced review later. Repeat Missions when students need another pass.</div>
          </div>
        </div>
        <div class="hero-visual">
          <img src="assets/branding-images/hero/hero-classroom-feb23.png" alt="Classroom with teacher and students using Grammar Spy; mission brief on screen: Find the verb in the sentence.">
        </div>
      </div>
    </div>
  </section>

  <main class="wrap">

    <section class="section section-flat" aria-label="Trust and quick proof">
      <p class="mission-label">Trust / Quick Proof</p>
      <h2>Built for real classroom pace</h2>
      <p class="subcopy">One Mission targets one grammar skill, gives instant feedback, and ends with a report you can actually use.</p>
      <ul class="proof-list">
        <li>One focus per Mission keeps practice clear for students and teachers.</li>
        <li>Instant feedback supports correction in the moment, not days later.</li>
        <li>Repeatable Missions support quick recall, spaced review, and reteach cycles.</li>
        <li>Use report patterns to regroup, reteach, or move on with confidence.</li>
      </ul>
      <p class="proof-note">Teachers report smoother transitions and clearer reteach decisions (placeholder).</p>
      <a class="link-action" href="#sample-report">See a Sample Report</a>
    </section>

    <section class="section section-flat" aria-label="One mission flow">
      <p class="mission-label">How it works</p>
      <h2>Run one Mission in three clear steps</h2>
      <p class="subcopy">Missions are short enough for class routines and structured enough for reliable grammar retrieval practice.</p>
      <div class="flow">
        <article class="step"><b><span style="font-size:18px;margin-right:6px">1</span>Pick a Mission</b><span>Choose grammar target and level. Setup takes about a minute.</span></article>
        <article class="step"><b><span style="font-size:18px;margin-right:6px">2</span>Run practice</b><span>Students complete short rounds with immediate feedback and clear corrections.</span></article>
        <article class="step"><b><span style="font-size:18px;margin-right:6px">3</span>Use the report</b><span>Spot patterns fast, reteach quickly, and repeat for spaced review.</span></article>
      </div>
      <a class="link-action" href="teacher-mode.html">Open Mission Setup</a>
    </section>

    <section class="section section-flat" aria-label="Inside a Mission">
      <p class="mission-label">See a sample report</p>
      <h2>Inside one Mission</h2>
      <p class="subcopy">You get a clean student practice screen and a report that tells you what to do next.</p>
      <div class="inside-mission" role="list">
        <figure class="screenshot-card" role="listitem">
          <img src="assets/branding-images/inside-mission/mission-screen-1.png" alt="Grammar mission screen showing question with four answer choices and game stats.">
          <figcaption>Mission screen</figcaption>
        </figure>
        <figure class="screenshot-card" role="listitem" id="sample-report">
          <img src="assets/branding-images/inside-mission/mission-report.png" alt="Mission Report showing accuracy percentage, score, and next-step recommendation.">
          <figcaption>Sample report</figcaption>
        </figure>
      </div>
    </section>

    <section class="section section-band-dark" aria-label="Teacher benefits">
      <p class="mission-label" style="color:#d8e2ed">Benefits (Teachers)</p>
      <h2>Teacher outcomes you can use tomorrow</h2>
      <p class="subcopy" style="color:#c8d4e2">Keep grammar practice simple, structured, and repeatable across the week.</p>
      <ul>
        <li>Less prep: launch with a clear objective in a few clicks.</li>
        <li>Classroom practicality: works for whole class, teams, or independent practice.</li>
        <li>Time savings: instant feedback reduces correction and re-explaining.</li>
        <li>Clarity: report data shows exactly what needs reteach.</li>
        <li>Retrieval practice: quick recall now, spaced review later.</li>
      </ul>
      <a class="link-action" href="packs.html">View all Missions</a>
    </section>

    <section class="section section-flat" aria-label="Sample mission call to action">
      <p class="mission-label">Sample Mission CTA</p>
      <h2>Start with Mission 01 Free</h2>
      <p class="subcopy">Get the full teacher view: launch flow, student practice, and report clarity before you commit.</p>
      <article class="case">
        <b style="font-size:18px;color:#0b1020">Mission 01: Retell What Happened</b>
        <p style="margin-top:6px">Practice past-time grammar with focused rounds and immediate feedback.</p>
      </article>
      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <a class="btn-primary" href="auth.html?mode=create">Try Mission 01 Free</a>
        <a class="btn-primary" href="teacher-home.html" style="background:#c9a227;border-color:#a88520">Create a Classroom</a>
        <a class="link-action" href="#sample-report" style="margin-top:0;align-self:center">See a Sample Report</a>
      </div>
    </section>

    <section class="section section-flat" aria-label="Testimonials placeholders">
      <p class="mission-label">Testimonials (Placeholders)</p>
      <h2>Teacher voices</h2>
      <p class="subcopy">Replace these with verified teacher quotes as they come in.</p>
      <div class="testimonial-grid">
        <article class="quote-card">
          <p>"[Placeholder] I used Mission 01 as a warm-up and immediately knew what to reteach."</p>
          <span class="quote-by">Teacher Name · Grade · School/District</span>
        </article>
        <article class="quote-card">
          <p>"[Placeholder] The report made small-group planning much faster."</p>
          <span class="quote-by">Teacher Name · Grade · School/District</span>
        </article>
        <article class="quote-card">
          <p>"[Placeholder] Students stayed focused because each Mission had one clear target."</p>
          <span class="quote-by">Teacher Name · Grade · School/District</span>
        </article>
      </div>
    </section>

    <section class="section section-flat" aria-label="Frequently asked questions">
      <p class="mission-label">FAQ</p>
      <h2>Questions teachers ask first</h2>
      <div class="faq-list">
        <details>
          <summary>What is a Mission?</summary>
          <p>Missions are short, focused grammar practice tasks with one clear skill target and one clear report.</p>
        </details>
        <details>
          <summary>How long does one Mission take?</summary>
          <p>Most teachers run one Mission in 10–15 minutes, depending on discussion and mode.</p>
        </details>
        <details>
          <summary>Can I use this with mixed-level classes?</summary>
          <p>Yes. You can adjust difficulty, rerun Missions, and use reports to group students for reteach.</p>
        </details>
        <details>
          <summary>What does the report show?</summary>
          <p>Accuracy patterns and practical next steps so you can decide whether to reteach, review, or move forward.</p>
        </details>
        <details>
          <summary>Can I repeat Missions for retrieval practice?</summary>
          <p>Yes. Missions are built for repeatable practice, quick recall, and spaced review routines.</p>
        </details>
        <details>
          <summary>What do I get in Mission 01 Free?</summary>
          <p>You get one full sample Mission experience before setting up more classes or paid access.</p>
        </details>
      </div>
    </section>

    <section class="section section-flat" aria-label="Final call to action">
      <p class="mission-label">Final CTA</p>
      <h2>Ready to run your first Mission?</h2>
      <p class="subcopy">Start free with Mission 01, then create your classroom when you are ready.</p>
      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <a class="btn-primary" href="auth.html?mode=create">Try Mission 01 Free</a>
        <a class="btn-primary" href="teacher-home.html" style="background:#c9a227;border-color:#a88520">Create a Classroom</a>
        <a class="link-action" href="#sample-report" style="margin-top:0;align-self:center">See a Sample Report</a>
      </div>
      <details>
        <summary>More options</summary>
        <ul>
          <li><a href="packs.html">View all Missions</a></li>
          <li><a href="pricing.html">View pricing</a></li>
          <li><a href="auth.html?mode=signin">Sign in to existing account</a></li>
        </ul>
      </details>
    </section>

    <section class="section section-flat email-capture" aria-label="Footer microcopy">
      <h3>Get Mission 01 free.</h3>
      <p>No login yet? Enter your school/work email and we will send your Mission 01 access steps.</p>
      <div class="email-capture-form" id="homeEmailForm">
        <input type="email" id="homeEmailInput" placeholder="name@school.org" autocomplete="email" aria-label="School or work email">
        <button type="button" class="btn-primary" id="homeEmailBtn">Send me Mission 01</button>
      </div>
      <p class="email-capture-thanks" id="homeEmailThanks">Check your inbox. Your Mission 01 link is on the way.</p>
      <ul class="microcopy-hints">
        <li>No classroom yet? Create a Classroom to assign your first Mission.</li>
        <li>No students yet? Share your class code to get started.</li>
        <li>No reports yet? Run one Mission to generate your first report.</li>
      </ul>
    </section>
  </main>

  <div data-include="footer"></div>
  <script src="iap-config.js"></script>
  <script src="iap-revenuecat.js"></script>
  <script src="billing-scaffold.js"></script>
  <script src="auth-scaffold.js"></script>
  <script src="layout-loader.js"></script>
  <script src="app-shell.js"></script>
  <script>
    const useKey = 'gs_use_context_v3';
    const teacherBtn = document.getElementById('modeTeacher');
    const studentBtn = document.getElementById('modeStudent');
    const continueBtn = document.getElementById('continueBtn');
    const createClassBtn = document.getElementById('createClassBtn');
    const roleHelper = document.getElementById('roleHelper');
    const heroPassive = document.getElementById('heroPassive');
    let currentMode = 'class';

    function applyMode(mode){
      const teacher = mode !== 'individual';
      currentMode = teacher ? 'class' : 'individual';
      teacherBtn.classList.toggle('active', teacher);
      studentBtn.classList.toggle('active', !teacher);
      teacherBtn.setAttribute('aria-selected', teacher ? 'true' : 'false');
      studentBtn.setAttribute('aria-selected', !teacher ? 'true' : 'false');
      continueBtn.href = teacher ? 'auth.html?mode=create' : 'individual-home.html?join=1#joinClassSection';
      continueBtn.textContent = teacher ? 'Try Mission 01 Free' : 'Join with Classroom Code';
      if (createClassBtn) createClassBtn.style.display = teacher ? 'inline-flex' : 'none';
      if (roleHelper) {
        roleHelper.textContent = teacher
          ? 'Teacher mode selected. Start free, then create your classroom.'
          : 'Student mode selected. Join your classroom with a class code from your teacher.';
      }
      if (heroPassive) {
        heroPassive.textContent = teacher
          ? 'Quick recall now. Spaced review later. Repeat Missions when students need another pass.'
          : 'Students join by class code and complete assigned Missions with immediate feedback.';
      }
      localStorage.setItem(useKey, teacher ? 'class' : 'individual');
    }

    teacherBtn.addEventListener('click', () => applyMode('class'));
    studentBtn.addEventListener('click', () => {
      applyMode('individual');
      location.href = 'individual-home.html?join=1#joinClassSection';
    });

    const saved = localStorage.getItem(useKey);
    applyMode(saved === 'individual' ? 'individual' : 'class');

    (function applyHeroVariant(){
      var variants = {
        a: {
          headline: 'Structured grammar practice. Clear results. No classroom chaos.',
          subcopy: 'Missions are short, focused grammar practice tasks you can run in minutes.',
          ctaCopy: 'Teacher path: start with Mission 01 Free, review a sample report, then create your classroom. Student path: join with a class code and complete assigned Missions.'
        },
        b: {
          headline: 'Teach grammar with less prep and more confidence.',
          subcopy: 'Missions are short, focused grammar practice tasks built for quick recall, spaced review, and repeatable practice.',
          ctaCopy: 'Run one Mission, check one clear report, then decide your next move. Start free with Mission 01 and create your classroom when ready.'
        }
      };
      var qp = new URLSearchParams(location.search);
      var key = (qp.get('hero_variant') || 'a').toLowerCase();
      if (!variants[key]) key = 'a';
      var h = document.getElementById('heroHeadline');
      var s = document.getElementById('heroSubcopy');
      var c = document.getElementById('heroCtaCopy');
      if (h) h.textContent = variants[key].headline;
      if (s) s.textContent = variants[key].subcopy;
      if (c) c.textContent = variants[key].ctaCopy;
    })();

    function normalizePromoCode(raw) {
      var value = String(raw || '').trim();
      if (!value || value.indexOf('@') >= 0) return '';
      var normalized = value.toUpperCase().replace(/[^A-Z0-9-]/g, '');
      if (normalized.length < 4 || normalized.length > 20) return '';
      return normalized;
    }

    const promoInput = document.getElementById('indexPromoCode');
    if (promoInput && continueBtn) {
      promoInput.value = normalizePromoCode(promoInput.value);
      promoInput.addEventListener('input', function(){
        var rawValue = promoInput.value || '';
        if (rawValue.indexOf('@') >= 0) promoInput.dataset.emailAttempt = '1';
        if (promoInput.dataset.emailAttempt === '1') {
          promoInput.value = '';
          sessionStorage.setItem('gs_promo_code', '');
          return;
        }
        var normalized = normalizePromoCode(promoInput.value);
        sessionStorage.setItem('gs_promo_code', normalized);
      });
      promoInput.addEventListener('blur', function(){
        promoInput.value = normalizePromoCode(promoInput.value);
        delete promoInput.dataset.emailAttempt;
      });
      continueBtn.addEventListener('click', function(e){
        if (currentMode !== 'class') return;
        const code = normalizePromoCode(promoInput.value);
        if (code) {
          e.preventDefault();
          location.href = 'auth.html?mode=create&code=' + encodeURIComponent(code);
        }
      });
    }

    (function(){
      var form = document.getElementById('homeEmailForm');
      var input = document.getElementById('homeEmailInput');
      var btn = document.getElementById('homeEmailBtn');
      var thanks = document.getElementById('homeEmailThanks');
      if (!form || !input || !btn || !thanks) return;
      btn.addEventListener('click', function(){
        var email = (input.value || '').trim();
        if (!email || email.indexOf('@') < 1) return;
        if (window.GS_SAVE_LEAD) window.GS_SAVE_LEAD(email);
        form.classList.add('hide');
        thanks.classList.add('show');
      });
    })();
  </script>
</body>
</html>
